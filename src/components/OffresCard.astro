---
const { offre } = Astro.props;
---

<article class="offre-card">
    <div class="offre-image">
        <img src={offre.imgUrl} alt={offre.nomMaison} loading="lazy" />
    </div>
    <div class="offre-body">
        <h2 class="offre-title">{offre.nomMaison}</h2>
        <p class="offre-address">{offre.adresse}</p>
        <div class="offre-meta">
            <span>{offre.surface} m2</span>
            <span>{offre.nbChambres} ch</span>
            <span>{offre.nbSdb} sdb</span>
        </div>
        <div class="offre-footer">
            <span class="offre-price">${offre.prix} / mois</span>
            <button
                class:list={["favori-toggle", { "is-fav": offre.favori }]}
                type="button"
                data-favori={offre.favori ? "true" : "false"}
                aria-pressed={offre.favori ? "true" : "false"}
            >
                {offre.favori ? "Favori" : "Ajouter"}
            </button>
        </div>
    </div>
</article>

<style>
	:global(.offres-grid) {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
		align-items: stretch;
	}

	:global(.offre) {
		flex: 0 0 260px;
	}

	.offre-card {
		background: #ffffff;
		border: 1px solid #e9e5df;
		border-radius: 14px;
		overflow: hidden;
		display: flex;
		flex-direction: column;
		box-shadow: 0 8px 16px rgba(34, 34, 59, 0.08);
		height: 100%;
	}

	.offre-image {
		background: #e5e5ef;
		aspect-ratio: 4 / 2.9;
	}

	.offre-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		display: block;
	}

	.offre-body {
		padding: 0.95rem 1.1rem 1.1rem;
		display: flex;
		flex-direction: column;
		gap: 0.65rem;
	}

	.offre-title {
		margin: 0;
		font-size: 1.1rem;
	}

	.offre-address {
		margin: 0;
		color: #4a4e69;
		font-size: 0.9rem;
	}

	.offre-meta {
		display: flex;
		gap: 0.75rem;
		flex-wrap: wrap;
		font-size: 0.85rem;
		color: #5c5f73;
	}

	.offre-footer {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 0.75rem;
	}

	.offre-price {
		font-weight: 700;
		color: #22223b;
		font-size: 1rem;
	}

	.favori-toggle {
		border: 1px solid #d4cfc7;
		background: #ffffff;
		color: #4a4e69;
		font-size: 0.8rem;
		padding: 0.25rem 0.7rem;
		border-radius: 999px;
		cursor: pointer;
		transition: transform 0.15s ease, background 0.2s ease,
			color 0.2s ease, border-color 0.2s ease;
	}

	.favori-toggle:hover {
		transform: translateY(-1px);
		border-color: #9a8c98;
		color: #22223b;
	}

	.favori-toggle.is-fav {
		background: #9a8c98;
		border-color: #9a8c98;
		color: #ffffff;
	}
</style>
